<div class="container clear-pad">
    <div class="header-container">
        <div class="ga-logo-panel">
            <a class="ga-logo-inline"
               href="http://www.ga.gov.au"
               title="Go to Geoscience Australia home page"
               target="_blank">
            </a>
        </div>
        <div class="app-title-panel">
            <span class="title">GNSS Site Manager</span>
        </div>
        <div class="dropdown-menu-panel" id="dropdown-menu-panel">
            <span dropdown *ngIf="siteId" id="site-id-dropdown-menu" class="dropdown">
                <nav dropdownToggle class="site-id-menu dropdown-toggle">
                    <span class="site-id-menu-label">{{siteId == 'newSite' ? 'New Site' : siteId}}</span>
                    <i class="glyphicon glyphicon-triangle-bottom dropdown-icon"></i>
                </nav>
                <ul *dropdownMenu role="menu" aria-labelledby="menu-button" class="dropdown-menu dropdown-menu-right">
                    <li role="menuitem" title="Save changes">
                        <a class="dropdown-item" (click)="save()" [ngClass]="{'disabled': isSaveDisabled()}">Save</a>
                    </li>
                    <li role="menuitem" title="Discard changes">
                        <a class="dropdown-item" (click)="revert()" [ngClass]="{'disabled': isRevertDisabled()}">Revert</a>
                    </li>
                    <li class="divider dropdown-divider"></li>
                    <li role="menuitem" title="Close current page and go back to Home page">
                        <a class="dropdown-item" (click)="close()">Close</a>
                    </li>
                </ul>
            </span>
            <span dropdown id="profile-dropdown-menu" class="dropdown">
                <nav dropdownToggle class="profile-menu dropdown-toggle">
                    <i class="glyphicon glyphicon-user" [ngClass]="{'dim-icon': !user}"></i>
                    <i class="glyphicon glyphicon-triangle-bottom dropdown-icon"></i>
                </nav>
                <ul *dropdownMenu role="menu" aria-labelledby="menu-button" class="dropdown-menu dropdown-menu-right">
                    <li role="menuitem">
                        <a *ngIf="!user" class="dropdown-item" (click)="login()">Login</a>
                        <a *ngIf="user" class="dropdown-item" (click)="showUserProfile()">{{user.profile.sub}} Profile</a>
                    </li>
                    <li role="menuitem">
                        <a *ngIf="!user" class="dropdown-item" [routerLink]="['/userRegistration']">Register</a>
                        <a *ngIf="user" class="dropdown-item" (click)="changePassword()">Change Password</a>
                    </li>
                    <li *ngIf="user" class="divider dropdown-divider"></li>
                    <li *ngIf="user" role="menuitem">
                        <a class="dropdown-item" (click)="logout()">Logout</a>
                    </li>
                </ul>
            </span>
            <span dropdown id="navigation-dropdown-menu" class="dropdown">
                <nav dropdownToggle class="navigation-menu dropdown-toggle">
                    <i class="glyphicon glyphicon-menu-hamburger"></i>
                </nav>
                <ul *dropdownMenu role="menu" aria-labelledby="menu-button" class="dropdown-menu dropdown-menu-right">
                    <li role="menuitem" title="Navigate to the Search and Select Sites page">
                        <a class="dropdown-item" [routerLink]="['/']">Select Site</a>
                    </li>
                    <li role="menuitem" title="Create a new site log">
                        <a class="dropdown-item" [routerLink]="['site/newSite']" [ngClass]="{'disabled': !user}">New Site</a>
                    </li>
                    <li role="menuitem" title="Navigate to the About GNSS Site Manager page">
                        <a class="dropdown-item" [routerLink]="['/about']">About</a>
                    </li>
                    <!-- TODO: Disable service worker for now -->
                    <!-- <li class="divider dropdown-divider"></li> -->
                    <!-- <li role="menuitem"><a class="dropdown-item" (click)="clearCache()">Update Application</a></li> -->
                    <li class="divider dropdown-divider"></li>
                    <li role="menuitem" *ngFor="let link of webUrlLinks">
                        <a class="dropdown-item" href="{{link.url}}" target="_blank">{{link.name}}</a>
                    </li>
                </ul>
            </span>
        </div>
    </div>
</div>
<div class="strap-container" id="horizontal-bar">
    <div class="strap-blue"></div>
    <div class="strap-white"></div>
    <div class="strap-red"></div>
</div>
